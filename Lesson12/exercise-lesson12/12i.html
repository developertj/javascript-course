<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>App</title>
</head>
<body>
  <button class="js-add" onclick="add()">
    Add
  </button>
  <button class="js-remove" onclick="remove()">
    Remove
  </button>
  <script>
    let messages = 2;
    let isIntervalRunning = false;
    let timeInterval;

    startInterval();

    function startInterval(){
      if(isIntervalRunning === true) {
      return;
    }
    isIntervalRunning = true;

    timeInterval = setInterval(function(){
      if(document.title === "App"){
        document.title =`(${messages})  New messages`;
      } else {
        document.title = "App";
      }
    }, 1000)
    }
    
    function stopInterval(){
      isIntervalRunning = false;
      clearInterval(timeInterval);
      document.title = "App";
    }

    function add(){
      if(messages >= 0){
        messages++;
      }
      startInterval();
    }

    function remove(){
      if(messages > 0){
        messages--;
      } 
      if(messages === 0){
        stopInterval();
      }
    }
    

  //   function isMessage0(){
  //     if(messages === 0) {
  //       clearInterval(timeInterval);
  //       document.title = "App";
  //     } else {
  //       if(document.title === "App"){
  //         document.title =`(${messages})  New messages`;
  //     }
  //   }
  // }
  </script>
</body>
</html>